<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>PNASS</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <script src="js/parse.js"></script>

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <style type="text/css">

    #NovaPergunta {
    	width: 200px;
    	margin-left: auto;
    	margin-right: auto;
    	display: block;
    }

    .tiposPerguntas {
    	text-align: center;
    }

    #fundogeral {
    background: #92A9D1;
    /*border-style: dashed;
    border-color: red;
    border-style:dotted;*/

    }

    #forum{
      text-align: center;
      /*font-weight: bold;
      font-style: italic;*/
      /*border-style: solid;
      border-width: 5px;*/
    }

    #textoforum{
      text-align: center;
    }

    </style>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div id="container" class="container">
      <div class="header clearfix">
        <nav>
          <ul class="nav nav-pills pull-right">
            <li role="presentation" class="active"><a href="#">Sobre</a></li>
          </ul>
        </nav>
        <h3 class="text-muted">Fórum - PNASS</h3>
      </div>

      <div id="fundogeral" class="jumbotron">
        <h1 id="forum">Fórum PNASS<br></h1>
        <p class="lead" id="textoforum"><br>Espaço destinado às dúvidas em relação ao projeto PNASS.</p>
      </div>

      <a href="novapergunta.html" id="NovaPergunta"><button type="button" class="btn btn-lg btn-success">Nova Pergunta</button></a>

      <br><br>

      <!--
      <div id="generalElement" class="row marketing">
        <div id="perguntasTipo1" class="col-lg-6">
          <h4 class="tiposPerguntas">Sobre manusear o aplicativo</h4>
        </div>

        <div id="perguntasTipo2" class="col-lg-6">
          <h4 class="tiposPerguntas">Sobre o instrumento</h4>
        </div>
      </div> -->
    </div> <!-- /container -->


    <script>
    
    Parse.initialize("dSMhX7IjBvUgHPjTfbu1h9aDJhLQo2FbjTntrvHU", "4ukGcVnnz0ZDx84nRo3bfjqUlb2cCvEPVzlNBZz2");

    gerarElementosComPerguntas();

    function gerarElementosComPerguntas() {
      var generalElement = document.createElement("div");
      generalElement.id = "generalElement";
      generalElement.className = "row marketing";

      document.getElementById("container").appendChild(generalElement);

      var perguntas1 = document.createElement("div");
      perguntas1.id = "perguntasTipo1";
      perguntas1.className = "col-lg-6";

      var perguntas2 = document.createElement("div");
      perguntas2.id = "perguntasTipo2";
      perguntas2.className = "col-lg-6";

      generalElement.appendChild(perguntas1);
      generalElement.appendChild(perguntas2);

      //perguntasTipo1
      var title = document.createElement("h4");
      title.className = "tiposPerguntas";
      var textNode = document.createTextNode("Sobre manusear o aplicativo");
      title.appendChild(textNode);

      perguntas1.appendChild(title);

      title = document.createElement("h4");
      title.className = "tiposPerguntas";
      textNode = document.createTextNode("Sobre o instrumento");
      title.appendChild(textNode);

      perguntas2.appendChild(title);

      var Perguntas = Parse.Object.extend("Perguntas");
      var query = new Parse.Query(Perguntas);
      query.equalTo("tipo", "aplicativo");
      query.find({
        success: function(results) {
          console.log(results[0].get("nome"));
          gerarPerguntasTipo1(results);
        },
        error: function(error) {
          console.log("Deu erro ao pegar perguntas do tipo 1: " + error.message);
        }
      });

      var query = new Parse.Query(Perguntas);
      query.equalTo("tipo", "instrumento");
      query.find({
        success: function(results) {
          console.log(results[0].get("nome"));
          gerarPerguntasTipo2(results);
        },
        error: function(error) {
          console.log("Deu erro ao pegar as perguntas do tipo 2: " + error.message);
        }
      });
    }

    function gerarPerguntasTipo1(perguntas) {
      console.log("Chegou p1: " + perguntas.length);
      for(var i = 0; i < perguntas.length; i++) {
        var element1 = document.getElementById("perguntasTipo1");

        var div = document.createElement("div");
        div.className = "perguntas";
        element1.appendChild(div);

        var pergunta = document.createElement("p");
        pergunta.style.textAlign = "center";
        var textNode = document.createTextNode(perguntas[i].get("texto"));
        pergunta.appendChild(textNode);

        var autor = document.createElement("p");
        autor.style.textAlign = "center";
        textNode = document.createTextNode("Autor: " + perguntas[i].get("autor"));
        autor.appendChild(textNode);

        div.appendChild(pergunta);
        div.appendChild(autor);        

      }
    }

    function gerarPerguntasTipo2(perguntas) {
      console.log("Chegou p2: " + perguntas.length);
      for(var i = 0; i < perguntas.length; i++) {
        var element2 = document.getElementById("perguntasTipo2");

        var div = document.createElement("div");
        div.className = "perguntas";
        element2.appendChild(div);

        var pergunta = document.createElement("p");
        pergunta.style.textAlign = "center";
        var textNode = document.createTextNode(perguntas[i].get("texto"));
        pergunta.appendChild(textNode);

        var autor = document.createElement("p");
        autor.style.textAlign = "center";
        textNode = document.createTextNode("Autor: " + perguntas[i].get("autor"));
        autor.appendChild(textNode);

        div.appendChild(pergunta);
        div.appendChild(autor);
      }    
    }
    
    </script>
  

</body>
</html>